<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <template id="search_form" name="Fluxdock base search form"
            inherit_id="cms_form.base_form" primary="True">

    <!-- remove std buttons at bottom -->
    <xpath expr="//t[@t-call='#{ form.form_buttons_template }']" position="replace" />

  </template>


  <template id="search_form_wrapper" name="Fluxdock search form wrapper">
    <t t-call="website.layout">
      <t t-set="title" t-value="form.form_title" />
      <div id="wrap" class="my_dock">
        <div class="container-lg">
          <div id="editable-header">
            <div class="oe_structure">
              <section class="s_section_header content with-image">
                <div class="content-wrap">
                  <div class="content-icon">
                    <img src="/fluxdock_theme/static/img/content-icons/methods.png"></img>
                  </div>
                </div>
              </section>
            </div>
          </div>
          <div id="content">
            <div class="container">
              <div class="content_wrapper">
                <t t-if="context_menu">
                  <ul class="nav nav-tabs nav-justified context-menu center-block main-content-wrapper">
                    <t t-foreach="context_menu" t-as="menu_item">
                      <li t-att-id="menu_item['id']" t-att-class="'active' if menu_item['active'] else None">
                        <a t-att-href="menu_item['url']" t-att-title="menu_item['name']">
                          <span t-esc="menu_item['name']" />
                        </a>
                      </li>
                    </t>
                  </ul>
                </t>
                <div t-attf-class="center-block main-content-wrapper #{form.form_wrapper_css_klass}">
                  <t t-raw="form.form_render()" />
                </div>
                <div id="search_results" class="center-block main-content-wrapper">
                  <t t-set="listing_options" t-value="form.listing_options()" />
                  <t t-call="fluxdock_theme.listing">
                    <t t-set="listing_items" t-value="form.form_search_results['results']" />
                    <t t-set="show_create_date" t-value="listing_options.get('show_create_date')" />
                    <t t-set="show_preview" t-value="listing_options.get('show_preview')" />
                    <t t-set="item_tags_template" t-value="'fluxdock_theme.item_tags'" />
                  </t>
                </div>
                <div class="text-center mb32 bottom-pager">
                  <t t-call="website.pager">
                    <t t-set="pager" t-value="form.form_search_results['pager']" />
                  </t>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </t>
  </template>

  <template id="search_form_advanced_search" name="Fluxdock search form advanced search">
    <a class="advanced-search" role="button" data-toggle="collapse" href="#advanced_search"
       aria-expanded="false" aria-controls="advanced_search">Advanced search</a>
    <div class="collapse" id="advanced_search">
      <t t-raw="0" />
    </div>
  </template>

</odoo>
